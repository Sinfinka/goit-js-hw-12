import{a as S,S as q,i as w}from"./assets/vendor-89feecc5.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function a(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=a(t);fetch(t.href,s)}})();const T=document.querySelector(".form"),B=document.querySelector(".input"),f=document.getElementById("gallery"),d=document.querySelector(".loader"),c=document.querySelector(".load-more-btn"),E=document.getElementById("pagination-info"),y=40,R="41719954-f83183d98e199e8ea762c32d5";let r=1,p="",i=!1,C;function v(n){const e=Math.ceil(n/y),a=f.children.length>0,o=e<=r,t=n>0;a&&!o&&t?(c.classList.remove("not-visible"),c.classList.add("visible")):(c.classList.remove("visible"),c.classList.add("not-visible"))}function m(){i||(w.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight",timeout:3500,progressBar:!1,onClose:function(){i=!1}}),i=!0)}function H(){i||(w.warning({title:"Caution",message:"We're sorry, but you've reached the end of search results.",position:"topRight",timeout:3500,progressBar:!1,color:"blue",onClose:function(){i=!1}}),i=!0)}function I(n){const e=Math.ceil(n/y);r<=e&&(E.textContent=`Page ${r} of ${e}`,v(n),r===e&&H())}async function P(n){try{d.classList.remove("hide");const e=await M(n),a=e.data.hits;if(a.length>0){if(x(a),I(e.data.totalHits),n>1){const o=f.firstElementChild.clientHeight;window.scrollBy({top:o*2,behavior:"smooth"})}}else m();C=e.data.totalHits}catch(e){console.error("Error fetching data:",e),m()}finally{d.classList.add("hide"),v(C)}}T.addEventListener("submit",async function(n){n.preventDefault();const e=B.value.trim();e&&(d.classList.remove("hide"),E.textContent="",i=!1,e!==p&&(f.innerHTML="",p=e,r=1),await P(r))});c.addEventListener("click",async function(){r++,i=!1,await P(r)});async function M(n){const e=`https://pixabay.com/api/?key=${R}&q=${encodeURIComponent(p)}&image_type=photo&orientation=horizontal&safesearch=true&page=${n}&per_page=${y}`;try{d.classList.remove("hide");const a=await S.get(e),o=a.data.hits;return o.length>0?(x(o),I(a.data.totalHits),v(a.data.totalHits)):m(),a}catch(a){throw console.error("Error fetching data:",a),m(),a}finally{d.classList.add("hide")}}function x(n){const e=document.createDocumentFragment();n.forEach(o=>{const t=document.createElement("li");t.classList.add("gallery-item");const s=document.createElement("a");s.href=o.largeImageURL,s.title=o.tags;const l=document.createElement("img");l.src=o.webformatURL,l.alt=o.tags;const h=document.createElement("div");h.classList.add("image-desc"),[{label:"Likes",value:o.likes},{label:"Views",value:o.views},{label:"Comments",value:o.comments},{label:"Downloads",value:o.downloads}].forEach(L=>{const u=document.createElement("div");u.classList.add("image-desc-item");const g=document.createElement("div");g.classList.add("image-desc-label"),g.textContent=L.label;const b=document.createElement("div");b.textContent=L.value,u.appendChild(g),u.appendChild(b),h.appendChild(u)}),s.appendChild(l),t.appendChild(s),t.appendChild(h),e.appendChild(t)}),f.appendChild(e),new q(".gallery a").refresh()}
//# sourceMappingURL=commonHelpers.js.map
